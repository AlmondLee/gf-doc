gf提供了非常强大、简单易用的数据校验功能，通过gvalid包提供，封装了40种常用的校验规则，支持单数据多规则校验、多数据多规则批量校验、自定义错误信息等特性。

    required             格式：required                              说明：必需参数
    required-if          格式：required-if:field,value,...           说明：必需参数(当任意所给定字段值与所给值相等时，即：当field字段的值为value时，当前验证字段为必须参数)
    required-unless      格式：required-unless:field,value,...       说明：必需参数(当所给定字段值与所给值都不相等时，即：当field字段的值不为value时，当前验证字段为必须参数)
    required-with        格式：required-with:field1,field2,...       说明：必需参数(当所给定任意字段值不为空时)
    required-with-all    格式：required-with-all:field1,field2,...   说明：必须参数(当所给定所有字段值都不为空时)
    required-without     格式：required-without:field1,field2,...    说明：必需参数(当所给定任意字段值为空时)
    required-without-all 格式：required-without-all:field1,field2,...说明：必须参数(当所给定所有字段值都为空时)
    date                 格式：date                                  说明：参数为常用日期类型，格式：2006-01-02, 20060102, 2006.01.02
    date-format          格式：date-format:format                    说明：判断日期是否为指定的日期格式，format为Go日期格式(可以包含时间)
    email                格式：email                                 说明：EMAIL邮箱地址
    phone                格式：phone                                 说明：手机号
    telephone            格式：telephone                             说明：国内座机电话号码，"XXXX-XXXXXXX"、"XXXX-XXXXXXXX"、"XXX-XXXXXXX"、"XXX-XXXXXXXX"、"XXXXXXX"、"XXXXXXXX"
    passport             格式：passport                              说明：通用帐号规则(字母开头，只能包含字母、数字和下划线，长度在6~18之间)
    password             格式：password                              说明：通用密码(任意可见字符，长度在6~18之间)
    password2            格式：password2                             说明：中等强度密码(在弱密码的基础上，必须包含大小写字母和数字)
    password3            格式：password3                             说明：强等强度密码(在弱密码的基础上，必须包含大小写字母、数字和特殊字符)
    postcode             格式：postcode                              说明：中国邮政编码
    id-number            格式：id-number                             说明：公民身份证号码
    qq                   格式：qq                                    说明：腾讯QQ号码
    ip                   格式：ip                                    说明：IPv4/IPv6地址
    ipv4                 格式：ipv4                                  说明：IPv4地址
    ipv6                 格式：ipv6                                  说明：IPv6地址
    mac                  格式：mac                                   说明：MAC地址
    url                  格式：url                                   说明：URL
    domain               格式：domain                                说明：域名
    length               格式：length:min,max                        说明：参数长度为min到max(长度参数为整形)
    min-length           格式：min-length:min                        说明：参数长度最小为min(长度参数为整形)
    max-length           格式：max-length:max                        说明：参数长度最大为max(长度参数为整形)
    between              格式：between:min,max                       说明：参数大小为min到max(支持整形和浮点类型参数)
    min                  格式：min:min                               说明：参数最小为min(支持整形和浮点类型参数)
    max                  格式：max:max                               说明：参数最大为max(支持整形和浮点类型参数)
    json                 格式：json                                  说明：判断数据格式为JSON
    integer              格式：integer                               说明：整数
    float                格式：float                                 说明：浮点数
    boolean              格式：boolean                               说明：布尔值(1,true,on,yes:true | 0,false,off,no,"":false)
    same                 格式：same:field                            说明：参数值必需与field参数的值相同
    different            格式：different:field                       说明：参数值不能与field参数的值相同
    in                   格式：in:value1,value2,...                  说明：参数值应该在value1,value2,...中(字符串匹配)
    not-in               格式：not-in:value1,value2,...              说明：参数值不应该在value1,value2,...中(字符串匹配)
    regex                格式：regex:pattern                         说明：参数值应当满足正则匹配规则pattern
    
其中的regex规则可以实现自定义的正则表达式校验，非常灵活。

校验方法列表：
```go
func Check(value, rules string, msgs interface{}, values ...map[string]string) map[string]string
func CheckMap(kvmap map[string]string, rules map[string]string, msgs map[string]interface{}) map[string]map[string]string
func SetDefaultErrorMsgs(msgs map[string]string)
```
其中Check和CheckMap只有在返回nil的情况下，才表示数据校验成功，否则返回校验出错的数据项以及对应的规则和错误信息的map。SetDefaultErrorMsgs方法用于批量设置默认的错误提示。默认错误提示如下：
```go
var defaultMessages = map[string]string {
    "required"             : "字段不能为空",
    "required-if"          : "字段不能为空",
    "required-unless"      : "字段不能为空",
    "required-with"        : "字段不能为空",
    "required-with-all"    : "字段不能为空",
    "required-without"     : "字段不能为空",
    "required-without-all" : "字段不能为空",
    "date"                 : "日期格式不正确",
    "date-format"          : "日期格式不正确",
    "email"                : "邮箱地址格式不正确",
    "phone"                : "手机号码格式不正确",
    "telephone"            : "电话号码格式不正确",
    "passport"             : "账号格式不合法，必需以字母开头，只能包含字母、数字和下划线，长度在6~18之间",
    "password"             : "密码格式不合法，密码格式为任意6-18位的可见字符",
    "password2"            : "密码格式不合法，密码格式为任意6-18位的可见字符，必须包含大小写字母和数字",
    "password3"            : "密码格式不合法，密码格式为任意6-18位的可见字符，必须包含大小写字母、数字和特殊字符",
    "postcode"             : "邮政编码不正确",
    "id-number"            : "身份证号码不正确",
    "qq"                   : "QQ号码格式不正确",
    "ip"                   : "IP地址格式不正确",
    "ipv4"                 : "IPv4地址格式不正确",
    "ipv6"                 : "IPv6地址格式不正确",
    "mac"                  : "MAC地址格式不正确",
    "url"                  : "URL地址格式不正确",
    "domain"               : "域名格式不正确",
    "length"               : "字段长度为:min到:max个字符",
    "min-length"           : "字段最小长度为:min",
    "max-length"           : "字段最大长度为:max",
    "between"              : "字段大小为:min到:max",
    "min"                  : "字段最小值为:min",
    "max"                  : "字段最大值为:max",
    "json"                 : "字段应当为JSON格式",
    "xml"                  : "字段应当为XML格式",
    "array"                : "字段应当为数组",
    "integer"              : "字段应当为整数",
    "float"                : "字段应当为浮点数",
    "boolean"              : "字段应当为布尔值",
    "same"                 : "字段值不合法",
    "different"            : "字段值不合法",
    "in"                   : "字段值不合法",
    "not-in"               : "字段值不合法",
    "regex"                : "字段值不合法",
}
```

下面我们来举几个例子，看看如何使用gvalid来实现数据校验。

### 单数据校验

1、校验数据长度，使用默认的错误提示
```go
rule := "length:6,16"
if m := gvalid.Check("123456", rule, nil);  m != nil {
    glog.Error(m)
}
if m := gvalid.Check("12345", rule, nil);  m != nil {
    glog.Error(m)
    // map[length:字段长度为6到16个字符]
}
```

2、校验数据类型及大小，并且使用自定义的错误提示
```go
rule := "integer|between:6,16"
msgs := "请输入一个整数|参数大小不对啊老铁"
fmt.Println(gvalid.Check("5.66", rule, msgs))
// map[integer:请输入一个整数 between:参数大小不对啊老铁]
```

3、使用自定义正则校验数据格式，使用默认错误提示
```go
// 参数长度至少为6个数字或者6个字母，但是总长度不能超过16个字符
rule := `regex:\d{6,}|\D{6,}|max-length:16`
if m := gvalid.Check("123456", rule, nil);  m != nil {
    fmt.Println(m)
}
if m := gvalid.Check("abcde6", rule, nil);  m != nil {
    fmt.Println(m)
    // map[regex:字段值不合法]
}
```

### 多数据校验






