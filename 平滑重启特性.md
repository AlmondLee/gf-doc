
[TOC]


>[danger] # 基本介绍

平滑重启(热重启)是指Web Server在重启的时候不会中断已有请求的执行。该特性在不同的项目版本发布的时候特别有用，例如，当需要先后发布两个版本：A、B，那么在A执行的过程当中，我们可以将B的程序直接发布覆盖A的程序，并使用平滑重启特性无缝地将请求过渡到新版本的服务中。

需要注意的是，该特性仅限于```*nix```系统(Linux/Unix/FreeBSD等等)，在Windows下仅支持完整重启功能(请求无法平滑过渡)。

>[danger] # 管理功能

gf框架支持非常方便的Web管理功能，也就是说我们可以通过Web页面/接口直接进行Web Server的重启/关闭等管理操作。同时，gf框架也支持通过命令行终端指令(仅限```*nix```系统)的形式进行Web Server的重启/关闭等管理操作。


>[success] ## Web管理

我们先来看一下Web Server中涉及到管理操作方法有哪些：
```go
func (s *Server) Reload() error
func (s *Server) Restart() error
func (s *Server) Shutdown() error

func (s *Server) EnableAdmin(pattern ...string)
```
其中，```Reload```用于平滑重启，```Restart```用于完整重启，```Shutdown```用于关闭Web Server。我们可以随时在注册的服务处理接口中调用这3个方法来实现Web Server的管理操作。

此外，gf框架提供了一个简便的管理页面方法```EnableAdmin```，用于将管理页面注册到指定的路由规则上，默认地址是```/debug/admin```。

我们下面来看一个示例：

```go

```


>[success] ## 命令行管理



### 平滑重启
SIGUSR1

### 完整重启
SIGUSR2

### 关闭服务
SIGINT/SIGQUIT/SIGKILL/SIGHUP/SIGTERM











